package com.wenq.notificationdemo;

import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.app.Activity;
import android.app.PendingIntent;
import android.app.NotificationManager;
import android.app.Notification;
import android.content.Context;
import android.content.Intent;

public class MainActivity extends Activity implements OnClickListener {

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);

		Button btn01 = (Button) findViewById(R.id.btn01);
		Button btn02 = (Button) findViewById(R.id.btn02);
		Button btn03 = (Button) findViewById(R.id.btn03);
		Button btn04 = (Button) findViewById(R.id.btn04);
		btn01.setOnClickListener(this);
		btn02.setOnClickListener(this);
		btn03.setOnClickListener(this);
		btn04.setOnClickListener(this);

	}

	@Override
	public void onClick(View arg0) {
		// TODO Auto-generated method stub

		switch (arg0.getId()) {
		case R.id.btn01:
			// ·¢ËÍnotification
			Context context = this.getApplicationContext();
			NotificationManager nm = (NotificationManager) getSystemService(context.NOTIFICATION_SERVICE);
			Notification n = new Notification(R.drawable.chat, "Hello,there!",
					System.currentTimeMillis());
			n.flags = Notification.FLAG_AUTO_CANCEL;
			// Intent i = new Intent(arg0.getContext(), NotificationShow.class);
			Intent i = new Intent(this, MainActivity.class);
			i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP
					| Intent.FLAG_ACTIVITY_NEW_TASK);
			// PendingIntent
			PendingIntent contentIntent = PendingIntent.getActivity(context,
					R.string.app_name, i, PendingIntent.FLAG_UPDATE_CURRENT);

			n.setLatestEventInfo(context, "Hello,there!",
					"Hello,there,I'm john.", contentIntent);
			nm.notify(R.string.app_name, n);

			break;
		case R.id.btn02:
			break;
		case R.id.btn03:
			break;
		case R.id.btn04:
			// È¡Ïûnotification
			break;

		}
	}
}
